@page "/dashboard"
@using Microsoft.AspNetCore.Components.Authorization
@attribute [Authorize]
@inject AuthenticationStateProvider AuthStateProvider

<PageTitle>Dashboard - FindTradie</PageTitle>

<AuthorizeView>
    <Authorized>
        @if (context.User.IsInRole("Customer"))
        {
            <!-- Customer Dashboard -->
            <div class="customer-dashboard">
                <div class="welcome-section">
                    <h1>Welcome back, @context.User.Identity.Name!</h1>
                    <p>Manage your jobs and find the perfect tradie</p>
                </div>

                <div class="quick-actions">
                    <a href="/post-job" class="action-card">
                        <i class="bi bi-plus-circle"></i>
                        <span>Post New Job</span>
                    </a>
                    <a href="/my-jobs" class="action-card">
                        <i class="bi bi-list-task"></i>
                        <span>My Jobs</span>
                    </a>
                    <a href="/my-quotes" class="action-card">
                        <i class="bi bi-chat-quote"></i>
                        <span>View Quotes</span>
                    </a>
                    <a href="/find-tradies" class="action-card">
                        <i class="bi bi-search"></i>
                        <span>Find Tradies</span>
                    </a>
                </div>

                <div class="recent-activity">
                    <h2>Recent Activity</h2>
                    <!-- Show recent quotes received, job updates, etc. -->
                </div>
            </div>
        }
        else if (context.User.IsInRole("Tradie"))
        {
            <!-- Tradie Dashboard (existing content) -->
            <div class="tradie-dashboard">
                <div class="welcome-section">
                    <h1>Welcome back, @context.User.Identity.Name!</h1>
                    <p>Here are new job opportunities in your area</p>
                </div>

                <!-- Statistics cards -->
                <div class="stats-row">
                    <div class="stat-card">
                        <span class="stat-value">0</span>
                        <span class="stat-label">Active Quotes</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value">0</span>
                        <span class="stat-label">Jobs Completed</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value">$0</span>
                        <span class="stat-label">This Month</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value">4.8 ‚≠ê</span>
                        <span class="stat-label">Rating</span>
                    </div>
                </div>

                <!-- Job opportunities section -->
                <div class="job-opportunities">
                    <h2>New Job Opportunities</h2>
                    <a href="/browse-jobs" class="btn btn-primary btn-lg">
                        Browse All Jobs
                    </a>
                    <p class="text-muted">No new jobs matching your criteria. Check back soon!</p>
                </div>
            </div>
        }
    </Authorized>
</AuthorizeView>

